<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complex Numbers - Math Notes</title>
    
    <!-- Arabic Font for Bismillah -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-card: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --border-color: #e2e8f0;
            --accent-color: #3498db;
            --accent-hover: #2980b9;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        [data-theme="sepia"] {
            --bg-primary: #f4f1ea;
            --bg-secondary: #ebe7dd;
            --bg-card: #faf8f3;
            --text-primary: #3e2723;
            --text-secondary: #5d4037;
            --text-muted: #8d6e63;
            --border-color: #d7ccc8;
            --accent-color: #8d6e63;
            --accent-hover: #6d4c41;
            --shadow-sm: 0 1px 2px 0 rgba(62, 39, 35, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(62, 39, 35, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(62, 39, 35, 0.1);
        }

        [data-theme="green"] {
            --bg-primary: #f0f9f4;
            --bg-secondary: #d1f2e1;
            --bg-card: #ffffff;
            --text-primary: #1b4332;
            --text-secondary: #2d6a4f;
            --text-muted: #52b788;
            --border-color: #95d5b2;
            --accent-color: #2d6a4f;
            --accent-hover: #1b4332;
            --shadow-sm: 0 1px 2px 0 rgba(27, 67, 50, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(27, 67, 50, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(27, 67, 50, 0.1);
        }

        [data-theme="yellow"] {
            --bg-primary: #fffef0;
            --bg-secondary: #fff9c4;
            --bg-card: #ffffff;
            --text-primary: #1a1a00;
            --text-secondary: #4d4d00;
            --text-muted: #808000;
            --border-color: #f4e04d;
            --accent-color: #ffd700;
            --accent-hover: #ccac00;
            --shadow-sm: 0 1px 2px 0 rgba(255, 215, 0, 0.15);
            --shadow-md: 0 4px 6px -1px rgba(255, 215, 0, 0.2);
            --shadow-lg: 0 10px 15px -3px rgba(255, 215, 0, 0.25);
        }

        [data-theme="bw"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --bg-card: #ffffff;
            --text-primary: #000000;
            --text-secondary: #333333;
            --text-muted: #666666;
            --border-color: #cccccc;
            --accent-color: #000000;
            --accent-hover: #333333;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.15);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
        }

        [data-theme="dark"] {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-card: #1c2128;
            --text-primary: #e6edf3;
            --text-secondary: #c9d1d9;
            --text-muted: #8b949e;
            --border-color: #30363d;
            --accent-color: #58a6ff;
            --accent-hover: #79c0ff;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
        }

        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
        }

        .card {
            background-color: var(--bg-card);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-md);
            transition: all 0.3s;
        }

        .section-bg {
            background-color: var(--bg-secondary);
        }

        .text-muted {
            color: var(--text-muted);
        }

        .accent-btn {
            background-color: var(--accent-color);
            color: var(--bg-card);
            transition: all 0.3s;
        }

        .accent-btn:hover {
            background-color: var(--accent-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-lg);
        }

        .solution-content {
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.4s ease-in-out, opacity 0.3s ease-in-out;
        }

        .solution-content.open {
            max-height: none !important;
            overflow-x: auto !important;
            overflow-y: visible !important;
            opacity: 1;
            -webkit-overflow-scrolling: touch;
        }

        .theme-btn {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: 2px solid var(--border-color);
            background-color: var(--bg-card);
            color: var(--text-primary);
            transition: all 0.2s;
        }

        .theme-btn:hover {
            border-color: var(--accent-color);
            transform: scale(1.05);
        }

        .theme-btn.active {
            border-color: var(--accent-color);
            background-color: var(--accent-color);
            color: var(--bg-card);
        }

        /* Mobile responsiveness - ensure content flows naturally */
        @media (max-width: 768px) {
            .solution-content.open {
                max-height: none !important;
                overflow-x: auto !important;
                overflow-y: visible !important;
                -webkit-overflow-scrolling: touch !important;
            }
            
            .card {
                overflow: visible;
            }
            
            body {
                overflow-x: hidden;
                overflow-y: auto;
            }
            
            /* Ensure horizontal scroll works for wide math equations */
            .solution-content.open > div {
                min-width: min-content;
            }
        }
        
        @media print {
            .no-print {
                display: none !important;
            }
            .solution-content {
                max-height: none !important;
                display: block !important;
            }
            .card {
                break-inside: avoid;
            }
        }

        .mcq-option {
            cursor: pointer;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 0.5rem;
            transition: all 0.2s;
            background-color: var(--bg-card);
        }

        .mcq-option:hover {
            border-color: var(--accent-color);
            background-color: var(--bg-secondary);
        }

        .mcq-option.correct {
            border-color: #10b981;
            background-color: #d1fae5;
            color: #065f46;
        }

        .mcq-option.incorrect {
            border-color: #ef4444;
            background-color: #fee2e2;
            color: #991b1b;
        }

        [data-theme="dark"] .mcq-option.correct {
            background-color: #064e3b;
            color: #6ee7b7;
        }

        [data-theme="dark"] .mcq-option.incorrect {
            background-color: #7f1d1d;
            color: #fca5a5;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Navigation links styling */
        .nav-link {
            display: block;
            text-align: center;
            font-weight: 500;
            text-decoration: none;
            color: var(--text-primary);
        }

        .nav-link:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Back to top button */
        #back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        #back-to-top:hover {
            transform: scale(1.1);
        }

        /* Bismillah Styling */
        .bismillah-container {
            padding: 1.5rem 1rem;
            margin-bottom: 2rem;
            border-radius: 1rem;
            background: linear-gradient(135deg, rgba(var(--accent-rgb, 52, 152, 219), 0.1), rgba(var(--accent-rgb, 52, 152, 219), 0.05));
            border: 2px solid var(--accent-color);
            box-shadow: var(--shadow-lg);
        }

        .bismillah-text {
            font-family: 'Amiri', 'Traditional Arabic', 'Arabic Typesetting', 'Geeza Pro', serif;
            font-size: 2rem;
            font-weight: 700;
            line-height: 1.8;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            direction: rtl;
        }

        .bismillah-translation {
            font-size: 0.875rem;
            color: var(--text-muted);
            font-style: italic;
            letter-spacing: 0.5px;
        }

        @media (max-width: 640px) {
            .bismillah-text {
                font-size: 1.5rem;
            }
            .bismillah-translation {
                font-size: 0.75rem;
            }
        }

        @media print {
            .bismillah-container {
                border: 2px solid #000;
                background: none;
                box-shadow: none;
            }
            .bismillah-text {
                color: #000;
                text-shadow: none;
            }
        }
/* --- ADD THIS: Responsive table scrolling & prevent overflow on mobile --- */
.table-wrapper {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch; /* smooth/touch scrolling on iOS */
}

/* Make the table take its natural width but allow scrolling when it exceeds the viewport */
.table-wrapper table {
    width: 100%;
    min-width: 640px; /* adjust this threshold as needed (lower = scroll earlier) */
    border-collapse: collapse;
}

/* Ensure cards and solution content don't exceed the viewport */
.card, .solution-content, .bismillah-container {
    max-width: 100%;
    box-sizing: border-box;
    overflow-wrap: anywhere; /* break long words, LaTeX tokens, etc. */
    word-break: break-word;
}

/* Prevent children from forcing the card wider than the parent */
.card * {
    min-width: 0;
}

/* Try to contain MathJax-rendered content to the viewport */
.mjx-chtml, .MathJax {
    max-width: 100% !important;
    overflow-x: auto;
}

/* Small-screen tweaks */
@media (max-width: 420px) {
    .card h4, .card h3 {
        font-size: 1rem;
        line-height: 1.2;
    }
}
/* --- END ADDITION --- */
    </style>
</head>
<body class="min-h-screen">
    <!-- Theme Switcher (Collapsible) -->
    <div class="no-print fixed top-4 right-4 z-50">
        <button id="theme-toggle-btn" class="accent-btn w-12 h-12 rounded-full shadow-lg flex items-center justify-center text-2xl hover:scale-110 transition-transform" title="Change Theme">
            üé®
        </button>
        <div id="theme-panel" class="hidden absolute top-16 right-0 card p-4 rounded-lg shadow-lg min-w-[200px]">
            <p class="text-sm font-semibold mb-3 flex items-center gap-2">
                <span>üé®</span> Choose Theme
            </p>
            <div class="flex flex-col gap-2">
                <button class="theme-btn active flex items-center gap-2 justify-start" data-theme="blue" title="Blue">
                    <span class="text-xl">üíô</span> <span>Blue</span>
                </button>
                <button class="theme-btn flex items-center gap-2 justify-start" data-theme="sepia" title="Sepia">
                    <span class="text-xl">üìú</span> <span>Sepia</span>
                </button>
                <button class="theme-btn flex items-center gap-2 justify-start" data-theme="green" title="Green">
                    <span class="text-xl">üåø</span> <span>Green</span>
                </button>
                <button class="theme-btn flex items-center gap-2 justify-start" data-theme="yellow" title="Yellow">
                    <span class="text-xl">‚ö°</span> <span>Yellow Neon</span>
                </button>
                <button class="theme-btn flex items-center gap-2 justify-start" data-theme="bw" title="Black & White">
                    <span class="text-xl">‚ö´</span> <span>Black & White</span>
                </button>
                <button class="theme-btn flex items-center gap-2 justify-start" data-theme="dark" title="Dark">
                    <span class="text-xl">üåô</span> <span>Dark Mode</span>
                </button>
            </div>
        </div>
    </div>

    <div class="max-w-5xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
        <!-- Bismillah -->
        <div class="bismillah-container text-center mb-8">
            <p class="bismillah-text">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸ∞ŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</p>
            <p class="bismillah-translation">In the name of Allah, the Most Gracious, the Most Merciful</p>
        </div>

        <!-- Chapter Header -->
        <header class="mb-12 text-center">
            <h1 class="text-4xl sm:text-5xl font-bold mb-3" style="color: var(--accent-color);">üìê Complex Numbers</h1>
            <p class="text-xl text-muted">Unit 1: Complex Numbers and Geometrical Representation of Complex Numbers</p>
        </header>

        <!-- Jump to Section Navigation -->
        <nav class="no-print mb-8 card p-5 rounded-lg" style="background-color: var(--bg-card);">
            <div class="flex items-center justify-between mb-3">
                <h3 class="font-bold text-lg flex items-center gap-2" style="color: var(--accent-color);">
                    üß≠ Jump to Section
                </h3>
                <button id="toggle-nav" class="accent-btn px-3 py-1 rounded text-sm">Hide</button>
            </div>
            <div id="nav-links" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2">
                <a href="#definitions" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üìö Definitions</a>
                <a href="#formulas" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üßÆ Formulas</a>
                <a href="#ex1-1" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üìù Exercise 1.1</a>
                <a href="#ex1-2" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üìù Exercise 1.2</a>
                <a href="#ex1-3" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üìù Exercise 1.3</a>
                <a href="#review" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üìù Review Ch 1</a>
                <a href="#mcqs" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">‚ùì MCQs</a>
                <a href="#answer-key" class="nav-link px-3 py-2 rounded hover:bg-opacity-80 transition" style="background-color: var(--bg-secondary);">üîë Answer Key</a>
            </div>
        </nav>

        <!-- Back to Top Button -->
        <button id="back-to-top" class="no-print fixed bottom-4 left-4 w-12 h-12 rounded-full shadow-lg flex items-center justify-center text-2xl opacity-0 invisible transition-all duration-300 z-50" 
                style="background-color: var(--accent-color); color: var(--bg-card);"
                title="Back to Top">
            ‚¨ÜÔ∏è
        </button>

        <!-- Definitions -->
        <section id="definitions" class="mb-12 card p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2" style="color: var(--accent-color);">
                üìö Core Definitions
            </h2>
            <ul class="space-y-3 text-base" style="color: var(--text-secondary);">
                <li><strong>Complex Number:</strong> A number of the form \(z = a + ib\) or \((a, b)\), where \(a, b \in \mathbb{R}\) and \(i = \sqrt{-1}\)</li>
                <li><strong>Real Part:</strong> \(Re(z) = a\)</li>
                <li><strong>Imaginary Part:</strong> \(Im(z) = b\)</li>
                <li><strong>Complex Conjugate:</strong> \(\bar{z} = a - ib\) if \(z = a + ib\)</li>
                <li><strong>Modulus:</strong> \(|z| = \sqrt{a^2 + b^2}\)</li>
                <li><strong>Equality:</strong> \(z_1 = z_2\) iff \(a_1 = a_2\) and \(b_1 = b_2\)</li>
                <li><strong>Additive Identity:</strong> \((0, 0)\)</li>
                <li><strong>Multiplicative Identity:</strong> \((1, 0)\)</li>
                <li><strong>Additive Inverse:</strong> \(-z = -a - ib\)</li>
                <li><strong>Multiplicative Inverse:</strong> \(z^{-1} = \frac{\bar{z}}{|z|^2} = \frac{a - ib}{a^2 + b^2}\)</li>
            </ul>
        </section>

        <!-- Formulas -->
        <section id="formulas" class="mb-12 card p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2" style="color: var(--accent-color);">
                üßÆ Essential Formulas
            </h2>
            <div class="overflow-x-auto table-wrapper">
    <table class="w-full border-collapse">
                    <thead>
                        <tr style="background-color: var(--bg-secondary);">
                            <th class="border p-3 text-left" style="border-color: var(--border-color);">Formula Name</th>
                            <th class="border p-3 text-left" style="border-color: var(--border-color);">Expression</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Addition</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\((a, b) + (c, d) = (a + c, b + d)\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Subtraction</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\((a, b) - (c, d) = (a - c, b - d)\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Multiplication</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\((a, b)(c, d) = (ac - bd, ad + bc)\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Division</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(\frac{a + ib}{c + id} = \frac{(a + ib)(c - id)}{c^2 + d^2}\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Conjugate Property</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(\overline{\bar{z}} = z\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Modulus-Conjugate</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(z\bar{z} = |z|^2\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Modulus Property</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(|z| = |-z| = |\bar{z}| = |-\bar{z}|\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Triangle Inequality</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(||z_1| - |z_2|| \leq |z_1 + z_2| \leq |z_1| + |z_2|\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Conjugate of Sum</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(\overline{z_1 + z_2} = \bar{z_1} + \bar{z_2}\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Conjugate of Product</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(\overline{z_1 z_2} = \bar{z_1} \cdot \bar{z_2}\)</td>
                        </tr>
                        <tr>
                            <td class="border p-3" style="border-color: var(--border-color);">Conjugate of Quotient</td>
                            <td class="border p-3" style="border-color: var(--border-color);">\(\overline{\left(\frac{z_1}{z_2}\right)} = \frac{\bar{z_1}}{\bar{z_2}}\)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Guess-Paper Questions (Solved) -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-6 text-center flex items-center justify-center gap-3" style="color: var(--accent-color);">
                ‚úçÔ∏è Guess-Paper Questions (Solved)
            </h2>
            
            <!-- Show All Solutions Button -->
            <div class="flex justify-center mb-6 no-print">
                <button id="toggle-all-solutions" class="accent-btn px-6 py-3 rounded-lg text-base font-semibold">
                    Show All Solutions
                </button>
            </div>

            <!-- Exercise 1.1 -->
            <div id="ex1-1" class="mb-8">
                <h3 class="text-2xl font-semibold mb-4 flex items-center gap-2" style="color: var(--text-secondary);">
                    üìù Exercise 1.1
                </h3>
                
                <!-- Q4(v) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q4(v): Simplify \(\frac{\sqrt{2} + i}{\sqrt{2} - i}\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Idea:</strong> Multiply numerator and denominator by the conjugate of the denominator.</p>
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>\[\frac{\sqrt{2} + i}{\sqrt{2} - i} = \frac{(\sqrt{2} + i)(\sqrt{2} + i)}{(\sqrt{2} - i)(\sqrt{2} + i)}\]</p>
                            <p>\[= \frac{(\sqrt{2})^2 + 2\sqrt{2}i + i^2}{(\sqrt{2})^2 - i^2}\]</p>
                            <p>\[= \frac{2 + 2\sqrt{2}i - 1}{2 - (-1)}\]</p>
                            <p>\[= \frac{1 + 2\sqrt{2}i}{3}\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{\frac{1}{3} + \frac{2\sqrt{2}}{3}i}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q4(vi) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q4(vi): Simplify \(\frac{1 + i}{1 - i} \cdot \frac{2 - i}{1 - i}\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>First, simplify \(\frac{1 + i}{1 - i}\):</p>
                            <p>\[\frac{1 + i}{1 - i} = \frac{(1 + i)(1 + i)}{(1 - i)(1 + i)} = \frac{1 + 2i + i^2}{1 - i^2} = \frac{1 + 2i - 1}{1 + 1} = \frac{2i}{2} = i\]</p>
                            <p class="mt-2">Now simplify \(\frac{2 - i}{1 - i}\):</p>
                            <p>\[\frac{2 - i}{1 - i} = \frac{(2 - i)(1 + i)}{(1 - i)(1 + i)} = \frac{2 + 2i - i - i^2}{2} = \frac{2 + i + 1}{2} = \frac{3 + i}{2}\]</p>
                            <p class="mt-2">Multiply the results:</p>
                            <p>\[i \cdot \frac{3 + i}{2} = \frac{3i + i^2}{2} = \frac{3i - 1}{2} = \frac{-1 + 3i}{2}\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{-\frac{1}{2} + \frac{3}{2}i}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q5 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q5: Show that \(z = 1 \pm i\) satisfies \(z^2 - 2z + 2 = 0\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Idea:</strong> Substitute both values into the equation and verify.</p>
                            <p class="mb-2"><strong>For \(z = 1 + i\):</strong></p>
                            <p>\[z^2 = (1 + i)^2 = 1 + 2i + i^2 = 1 + 2i - 1 = 2i\]</p>
                            <p>\[z^2 - 2z + 2 = 2i - 2(1 + i) + 2 = 2i - 2 - 2i + 2 = 0 \checkmark\]</p>
                            <p class="mt-3"><strong>For \(z = 1 - i\):</strong></p>
                            <p>\[z^2 = (1 - i)^2 = 1 - 2i + i^2 = 1 - 2i - 1 = -2i\]</p>
                            <p>\[z^2 - 2z + 2 = -2i - 2(1 - i) + 2 = -2i - 2 + 2i + 2 = 0 \checkmark\]</p>
                            <p class="mt-3 font-semibold">Hence proved that both \(z = 1 + i\) and \(z = 1 - i\) satisfy the equation.</p>
                        </div>
                    </div>
                </div>

                <!-- Q6(vii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q6(vii): Find conjugate and absolute value of \(\frac{2}{3} - \frac{9i}{16}\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Given: \(z = \frac{2}{3} - \frac{9i}{16}\)</p>
                            <p class="mt-2"><strong>Conjugate:</strong></p>
                            <p>\[\bar{z} = \frac{2}{3} + \frac{9i}{16}\]</p>
                            <p class="mt-2"><strong>Absolute value:</strong></p>
                            <p>\[|z| = \sqrt{\left(\frac{2}{3}\right)^2 + \left(\frac{9}{16}\right)^2}\]</p>
                            <p>\[= \sqrt{\frac{4}{9} + \frac{81}{256}}\]</p>
                            <p>\[= \sqrt{\frac{1024 + 729}{2304}} = \sqrt{\frac{1753}{2304}}\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{\bar{z} = \frac{2}{3} + \frac{9i}{16}, \quad |z| = \sqrt{\frac{1753}{2304}}}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q6(viii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q6(viii): Find conjugate and absolute value of \(\frac{(1 + i)(1 + 2i)}{3 + i}\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>First, expand the numerator:</p>
                            <p>\[(1 + i)(1 + 2i) = 1 + 2i + i + 2i^2 = 1 + 3i - 2 = -1 + 3i\]</p>
                            <p class="mt-2">Now divide:</p>
                            <p>\[\frac{-1 + 3i}{3 + i} = \frac{(-1 + 3i)(3 - i)}{(3 + i)(3 - i)} = \frac{-3 + i + 9i - 3i^2}{9 - i^2}\]</p>
                            <p>\[= \frac{-3 + 10i + 3}{10} = \frac{10i}{10} = i\]</p>
                            <p class="mt-2"><strong>Conjugate:</strong> \(\bar{z} = -i\)</p>
                            <p><strong>Absolute value:</strong> \(|z| = |i| = 1\)</p>
                            <p class="mt-3 font-semibold">\[\boxed{\bar{z} = -i, \quad |z| = 1}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q7 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q7: Find real and imaginary parts of: (i) \(2i(3 - 5i)\) (ii) \(\frac{\sqrt{5} + i}{\sqrt{5} - i}\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>(i) Solution:</strong></p>
                            <p>\[2i(3 - 5i) = 6i - 10i^2 = 6i + 10 = 10 + 6i\]</p>
                            <p>Real part = \(10\), Imaginary part = \(6\)</p>
                            
                            <p class="mt-4"><strong>(ii) Solution:</strong></p>
                            <p>\[\frac{\sqrt{5} + i}{\sqrt{5} - i} = \frac{(\sqrt{5} + i)(\sqrt{5} + i)}{(\sqrt{5} - i)(\sqrt{5} + i)}\]</p>
                            <p>\[= \frac{5 + 2\sqrt{5}i + i^2}{5 - i^2} = \frac{5 + 2\sqrt{5}i - 1}{5 + 1} = \frac{4 + 2\sqrt{5}i}{6}\]</p>
                            <p>\[= \frac{2}{3} + \frac{\sqrt{5}}{3}i\]</p>
                            <p>Real part = \(\frac{2}{3}\), Imaginary part = \(\frac{\sqrt{5}}{3}\)</p>
                            <p class="mt-3 font-semibold">\[\boxed{(i) \, Re = 10, Im = 6; \quad (ii) \, Re = \frac{2}{3}, Im = \frac{\sqrt{5}}{3}}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q9 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q9: Solve: (i) \((x, y)(2, 3) = (-4, 7)\) (ii) \(x + 3i = 2yi\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>(i) Solution:</strong></p>
                            <p>Using multiplication formula:</p>
                            <p>\[(x, y)(2, 3) = (2x - 3y, 3x + 2y) = (-4, 7)\]</p>
                            <p>Equating real and imaginary parts:</p>
                            <p>\[2x - 3y = -4 \quad \text{...(1)}\]</p>
                            <p>\[3x + 2y = 7 \quad \text{...(2)}\]</p>
                            <p>From (1): \(2x = 3y - 4 \Rightarrow x = \frac{3y - 4}{2}\)</p>
                            <p>Substitute into (2): \(3\left(\frac{3y - 4}{2}\right) + 2y = 7\)</p>
                            <p>\[\frac{9y - 12}{2} + 2y = 7 \Rightarrow 9y - 12 + 4y = 14\]</p>
                            <p>\[13y = 26 \Rightarrow y = 2\]</p>
                            <p>\[x = \frac{3(2) - 4}{2} = \frac{2}{2} = 1\]</p>
                            
                            <p class="mt-4"><strong>(ii) Solution:</strong></p>
                            <p>\[x + 3i = 2yi\]</p>
                            <p>Equating real and imaginary parts:</p>
                            <p>Real: \(x = 0\)</p>
                            <p>Imaginary: \(3 = 2y \Rightarrow y = \frac{3}{2}\)</p>
                            <p class="mt-3 font-semibold">\[\boxed{(i) \, x = 1, y = 2; \quad (ii) \, x = 0, y = \frac{3}{2}}\]</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exercise 1.2 -->
            <div id="ex1-2" class="mb-8">
                <h3 class="text-2xl font-semibold mb-4 flex items-center gap-2" style="color: var(--text-secondary);">
                    üìù Exercise 1.2
                </h3>

                <!-- Q2(c) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q2(c): Prove that \(|z_1 \cdot z_2| = |z_1||z_2|\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Proof:</strong></p>
                            <p>Let \(z_1 = a + ib\) and \(z_2 = c + id\)</p>
                            <p>\[z_1 z_2 = (a + ib)(c + id) = (ac - bd) + i(ad + bc)\]</p>
                            <p>L.H.S: \(|z_1 z_2| = \sqrt{(ac - bd)^2 + (ad + bc)^2}\)</p>
                            <p>\[= \sqrt{a^2c^2 - 2abcd + b^2d^2 + a^2d^2 + 2abcd + b^2c^2}\]</p>
                            <p>\[= \sqrt{a^2c^2 + b^2d^2 + a^2d^2 + b^2c^2}\]</p>
                            <p>\[= \sqrt{a^2(c^2 + d^2) + b^2(c^2 + d^2)}\]</p>
                            <p>\[= \sqrt{(a^2 + b^2)(c^2 + d^2)}\]</p>
                            <p>R.H.S: \(|z_1||z_2| = \sqrt{a^2 + b^2} \cdot \sqrt{c^2 + d^2} = \sqrt{(a^2 + b^2)(c^2 + d^2)}\)</p>
                            <p class="mt-3 font-semibold">‚à¥ L.H.S = R.H.S, hence proved.</p>
                        </div>
                    </div>
                </div>

                <!-- Q2(d) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q2(d): Prove that \(\left|\frac{z_1}{z_2}\right| = \frac{|z_1|}{|z_2|}\), \(z_2 \neq 0\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Proof:</strong></p>
                            <p>From Q2(c), we know \(|z_1 z_2| = |z_1||z_2|\)</p>
                            <p>Let \(z_1 = z\) and \(z_2 = w\), where \(w \neq 0\)</p>
                            <p>Consider \(\frac{z}{w} \cdot w = z\)</p>
                            <p>Taking modulus: \(\left|\frac{z}{w} \cdot w\right| = |z|\)</p>
                            <p>\[\left|\frac{z}{w}\right| \cdot |w| = |z|\]</p>
                            <p>Dividing both sides by \(|w|\) (since \(|w| \neq 0\)):</p>
                            <p>\[\left|\frac{z}{w}\right| = \frac{|z|}{|w|}\]</p>
                            <p>Replacing \(z\) with \(z_1\) and \(w\) with \(z_2\):</p>
                            <p class="mt-3 font-semibold">\[\boxed{\left|\frac{z_1}{z_2}\right| = \frac{|z_1|}{|z_2|}}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q5 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q5: Find additive and multiplicative inverses of (i) \((2, 3)\) (ii) \((-4, 5)\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>(i) For \(z = (2, 3)\):</strong></p>
                            <p><strong>Additive inverse:</strong> \(-z = (-2, -3)\)</p>
                            <p>Verification: \((2, 3) + (-2, -3) = (0, 0)\) ‚úì</p>
                            <p class="mt-2"><strong>Multiplicative inverse:</strong></p>
                            <p>\[z^{-1} = \left(\frac{a}{a^2 + b^2}, \frac{-b}{a^2 + b^2}\right) = \left(\frac{2}{4 + 9}, \frac{-3}{13}\right) = \left(\frac{2}{13}, -\frac{3}{13}\right)\]</p>
                            <p>Verification: \((2, 3) \cdot \left(\frac{2}{13}, -\frac{3}{13}\right) = \left(\frac{4 + 9}{13}, \frac{-6 + 6}{13}\right) = (1, 0)\) ‚úì</p>
                            
                            <p class="mt-4"><strong>(ii) For \(z = (-4, 5)\):</strong></p>
                            <p><strong>Additive inverse:</strong> \(-z = (4, -5)\)</p>
                            <p>Verification: \((-4, 5) + (4, -5) = (0, 0)\) ‚úì</p>
                            <p class="mt-2"><strong>Multiplicative inverse:</strong></p>
                            <p>\[z^{-1} = \left(\frac{-4}{16 + 25}, \frac{-5}{41}\right) = \left(-\frac{4}{41}, -\frac{5}{41}\right)\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{(i) \, (-2, -3), \left(\frac{2}{13}, -\frac{3}{13}\right); \quad (ii) \, (4, -5), \left(-\frac{4}{41}, -\frac{5}{41}\right)}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q6(iv) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q6(iv): Verify \(\overline{z_1 + z_2} = \bar{z_1} + \bar{z_2}\) with \(z_1 = 3 - 2i, z_2 = 2 + 3i\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Given: \(z_1 = 3 - 2i, z_2 = 2 + 3i\)</p>
                            <p class="mt-2">L.H.S: \(\overline{z_1 + z_2} = \overline{(3 - 2i) + (2 + 3i)} = \overline{5 + i} = 5 - i\)</p>
                            <p class="mt-2">R.H.S: \(\bar{z_1} + \bar{z_2} = \overline{3 - 2i} + \overline{2 + 3i} = (3 + 2i) + (2 - 3i) = 5 - i\)</p>
                            <p class="mt-3 font-semibold">‚à¥ L.H.S = R.H.S = \(5 - i\), hence verified.</p>
                        </div>
                    </div>
                </div>

                <!-- Q6(v) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q6(v): Verify \(\overline{z_1 z_2} = \bar{z_1} \cdot \bar{z_2}\) with \(z_1 = 3 - 2i, z_2 = 2 + 3i\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Given: \(z_1 = 3 - 2i, z_2 = 2 + 3i\)</p>
                            <p class="mt-2">First, find \(z_1 z_2\):</p>
                            <p>\[z_1 z_2 = (3 - 2i)(2 + 3i) = 6 + 9i - 4i - 6i^2 = 6 + 5i + 6 = 12 + 5i\]</p>
                            <p class="mt-2">L.H.S: \(\overline{z_1 z_2} = \overline{12 + 5i} = 12 - 5i\)</p>
                            <p class="mt-2">R.H.S: \(\bar{z_1} \cdot \bar{z_2} = (3 + 2i)(2 - 3i) = 6 - 9i + 4i - 6i^2 = 6 - 5i + 6 = 12 - 5i\)</p>
                            <p class="mt-3 font-semibold">‚à¥ L.H.S = R.H.S = \(12 - 5i\), hence verified.</p>
                        </div>
                    </div>
                </div>

                <!-- Q6(vi) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q6(vi): Verify \(\overline{\left(\frac{z_1}{z_2}\right)} = \frac{\bar{z_1}}{\bar{z_2}}\) with \(z_1 = 3 - 2i, z_2 = 2 + 3i\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Given: \(z_1 = 3 - 2i, z_2 = 2 + 3i\)</p>
                            <p class="mt-2">First, find \(\frac{z_1}{z_2}\):</p>
                            <p>\[\frac{z_1}{z_2} = \frac{3 - 2i}{2 + 3i} = \frac{(3 - 2i)(2 - 3i)}{(2 + 3i)(2 - 3i)} = \frac{6 - 9i - 4i + 6i^2}{4 + 9}\]</p>
                            <p>\[= \frac{6 - 13i - 6}{13} = \frac{-13i}{13} = -i\]</p>
                            <p class="mt-2">L.H.S: \(\overline{\left(\frac{z_1}{z_2}\right)} = \overline{-i} = i\)</p>
                            <p class="mt-2">R.H.S: \(\frac{\bar{z_1}}{\bar{z_2}} = \frac{3 + 2i}{2 - 3i} = \frac{(3 + 2i)(2 + 3i)}{(2 - 3i)(2 + 3i)} = \frac{6 + 9i + 4i + 6i^2}{13}\)
                            <p>\[= \frac{6 + 13i - 6}{13} = \frac{13i}{13} = i\]</p>
                            <p class="mt-3 font-semibold">‚à¥ L.H.S = R.H.S = \(i\), hence verified.</p>
                        </div>
                    </div>
                </div>

                <!-- Q7 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q7: Express in \(a + ib\) form and verify triangle inequality with \(z_1 = 3 - 2i, z_2 = 2 - 3i\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>(i) \(\frac{z_1 \bar{z_2}}{z_1}\):</strong></p>
                            <p>\[\frac{z_1 \bar{z_2}}{z_1} = \bar{z_2} = \overline{2 - 3i} = 2 + 3i\]</p>
                            
                            <p class="mt-3"><strong>(ii) \(\frac{\bar{z_1} z_2}{z_2}\):</strong></p>
                            <p>\[\frac{\bar{z_1} z_2}{z_2} = \bar{z_1} = \overline{3 - 2i} = 3 + 2i\]</p>
                            
                            <p class="mt-3"><strong>(iii) \(\frac{\bar{z_1} \bar{z_2}}{z_1}\):</strong></p>
                            <p>\[\frac{\bar{z_1} \bar{z_2}}{z_1} = \frac{(3 + 2i)(2 + 3i)}{3 - 2i} = \frac{6 + 9i + 4i + 6i^2}{3 - 2i}\]</p>
                            <p>\[= \frac{13i}{3 - 2i} = \frac{13i(3 + 2i)}{13} = \frac{13i(3 + 2i)}{13} = \frac{39i + 26i^2}{13}\]</p>
                            <p>\[= \frac{39i - 26}{13} = -2 + 3i\]</p>
                            
                            <p class="mt-4"><strong>Triangle Inequality Verification:</strong></p>
                            <p>\[|z_1| = \sqrt{9 + 4} = \sqrt{13}, \quad |z_2| = \sqrt{4 + 9} = \sqrt{13}\]</p>
                            <p>\[z_1 + z_2 = 5 - 5i, \quad |z_1 + z_2| = \sqrt{25 + 25} = 5\sqrt{2}\]</p>
                            <p>\[|z_1| + |z_2| = 2\sqrt{13} \approx 7.21\]</p>
                            <p>\[||z_1| - |z_2|| = 0\]</p>
                            <p>Since \(0 \leq 5\sqrt{2} \approx 7.07 \leq 7.21\), triangle inequality is verified.</p>
                        </div>
                    </div>
                </div>

                <!-- Q8 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q8: Find real and imaginary parts</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>(i) \((\sqrt{2} + i)^{-2}\):</strong></p>
                            <p>\[(\sqrt{2} + i)^{-2} = \frac{1}{(\sqrt{2} + i)^2} = \frac{1}{2 + 2\sqrt{2}i - 1} = \frac{1}{1 + 2\sqrt{2}i}\]</p>
                            <p>\[= \frac{1 - 2\sqrt{2}i}{(1)^2 + (2\sqrt{2})^2} = \frac{1 - 2\sqrt{2}i}{9}\]</p>
                            <p>Real part = \(\frac{1}{9}\), Imaginary part = \(-\frac{2\sqrt{2}}{9}\)</p>
                            
                            <p class="mt-3"><strong>(ii) \((1 - \sqrt{5}i)^{-1}\):</strong></p>
                            <p>\[(1 - \sqrt{5}i)^{-1} = \frac{1}{1 - \sqrt{5}i} = \frac{1 + \sqrt{5}i}{1 + 5} = \frac{1 + \sqrt{5}i}{6}\]</p>
                            <p>Real part = \(\frac{1}{6}\), Imaginary part = \(\frac{\sqrt{5}}{6}\)</p>
                            
                            <p class="mt-3"><strong>(iii) \((\sqrt{3} - i)^{-2}\):</strong></p>
                            <p>\[(\sqrt{3} - i)^{-2} = \frac{1}{3 - 2\sqrt{3}i - 1} = \frac{1}{2 - 2\sqrt{3}i} = \frac{2 + 2\sqrt{3}i}{16}\]</p>
                            <p>\[= \frac{1 + \sqrt{3}i}{8}\]</p>
                            <p>Real part = \(\frac{1}{8}\), Imaginary part = \(\frac{\sqrt{3}}{8}\)</p>
                            
                            <p class="mt-3"><strong>(iv) \((2i - \sqrt{3})^{-1}\):</strong></p>
                            <p>\[(2i - \sqrt{3})^{-1} = \frac{1}{-\sqrt{3} + 2i} = \frac{-\sqrt{3} - 2i}{3 + 4} = \frac{-\sqrt{3} - 2i}{7}\]</p>
                            <p>Real part = \(-\frac{\sqrt{3}}{7}\), Imaginary part = \(-\frac{2}{7}\)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exercise 1.3 -->
            <div id="ex1-3" class="mb-8">
                <h3 class="text-2xl font-semibold mb-4 flex items-center gap-2" style="color: var(--text-secondary);">
                    üìù Exercise 1.3
                </h3>

                <!-- Q1(i) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q1(i): Solve \(3z + (2 + i)w = 11 - i\) and \((2 - i)z - w = -1 + i\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Equation (1): \(3z + (2 + i)w = 11 - i\)</p>
                            <p>Equation (2): \((2 - i)z - w = -1 + i\)</p>
                            <p class="mt-2">From equation (2): \(w = (2 - i)z + 1 - i\)</p>
                            <p>Substitute into equation (1):</p>
                            <p>\[3z + (2 + i)[(2 - i)z + 1 - i] = 11 - i\]</p>
                            <p>\[3z + (2 + i)(2 - i)z + (2 + i)(1 - i) = 11 - i\]</p>
                            <p>\[3z + (4 - 2i + 2i + 1)z + (2 - 2i + i + 1) = 11 - i\]</p>
                            <p>\[3z + 5z + 3 - i = 11 - i\]</p>
                            <p>\[8z = 8 \Rightarrow z = 1\]</p>
                            <p class="mt-2">Substitute \(z = 1\) into equation (2):</p>
                            <p>\[(2 - i)(1) - w = -1 + i\]</p>
                            <p>\[w = 2 - i + 1 - i = 3 - 2i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = 1, \quad w = 3 - 2i}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q2(ii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q2(ii): Factor \(z^3 + 3z^2 + z - 5\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Idea:</strong> Find rational roots using factor theorem, then factor remaining quadratic.</p>
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Test \(z = 1\): \(1 + 3 + 1 - 5 = 0\) ‚úì</p>
                            <p>So \((z - 1)\) is a factor.</p>
                            <p class="mt-2">Using synthetic division:</p>
                            <p>\[z^3 + 3z^2 + z - 5 = (z - 1)(z^2 + 4z + 5)\]</p>
                            <p class="mt-2">Factor \(z^2 + 4z + 5 = 0\):</p>
                            <p>\[z = \frac{-4 \pm \sqrt{16 - 20}}{2} = \frac{-4 \pm 2i}{2} = -2 \pm i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{(z - 1)(z + 2 - i)(z + 2 + i)}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q2(iv) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q2(iv): Factor \(z^3 + 3z^2 + 4z + 2\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Test \(z = -1\): \(-1 + 3 - 4 + 2 = 0\) ‚úì</p>
                            <p>So \((z + 1)\) is a factor.</p>
                            <p class="mt-2">Using synthetic division:</p>
                            <p>\[z^3 + 3z^2 + 4z + 2 = (z + 1)(z^2 + 2z + 2)\]</p>
                            <p class="mt-2">Factor \(z^2 + 2z + 2 = 0\):</p>
                            <p>\[z = \frac{-2 \pm \sqrt{4 - 8}}{2} = \frac{-2 \pm 2i}{2} = -1 \pm i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{(z + 1)(z + 1 - i)(z + 1 + i)}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q2(v) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q2(v): Factor \(z^3 - 7z^2 + 19z - 13\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Test \(z = 1\): \(1 - 7 + 19 - 13 = 0\) ‚úì</p>
                            <p>So \((z - 1)\) is a factor.</p>
                            <p class="mt-2">Using synthetic division:</p>
                            <p>\[z^3 - 7z^2 + 19z - 13 = (z - 1)(z^2 - 6z + 13)\]</p>
                            <p class="mt-2">Factor \(z^2 - 6z + 13 = 0\):</p>
                            <p>\[z = \frac{6 \pm \sqrt{36 - 52}}{2} = \frac{6 \pm 4i}{2} = 3 \pm 2i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{(z - 1)(z - 3 - 2i)(z - 3 + 2i)}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q3(i) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q3(i): Solve \(z^2 - 4z + 5 = 0\) by completing the square</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>\[z^2 - 4z + 5 = 0\]</p>
                            <p>\[z^2 - 4z = -5\]</p>
                            <p>Add 4 to both sides (half of -4, squared):</p>
                            <p>\[z^2 - 4z + 4 = -5 + 4\]</p>
                            <p>\[(z - 2)^2 = -1\]</p>
                            <p>\[z - 2 = \pm i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = 2 + i, \quad z = 2 - i}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q3(ii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q3(ii): Solve \(z^2 + 12z + 52 = 0\) by completing the square</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>\[z^2 + 12z + 52 = 0\]</p>
                            <p>\[z^2 + 12z = -52\]</p>
                            <p>Add 36 to both sides:</p>
                            <p>\[z^2 + 12z + 36 = -52 + 36\]</p>
                            <p>\[(z + 6)^2 = -16\]</p>
                            <p>\[z + 6 = \pm 4i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = -6 + 4i, \quad z = -6 - 4i}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q3(iii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q3(iii): Solve \(34z^2 - 6z = -1\) by completing the square</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>\[34z^2 - 6z + 1 = 0\]</p>
                            <p>Divide by 34:</p>
                            <p>\[z^2 - \frac{6}{34}z + \frac{1}{34} = 0\]</p>
                            <p>\[z^2 - \frac{3}{17}z = -\frac{1}{34}\]</p>
                            <p>Add \(\left(\frac{3}{34}\right)^2 = \frac{9}{1156}\):</p>
                            <p>\[\left(z - \frac{3}{34}\right)^2 = -\frac{1}{34} + \frac{9}{1156} = \frac{-34 + 9}{1156} = -\frac{25}{1156}\]</p>
                            <p>\[z - \frac{3}{34} = \pm \frac{5i}{34}\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = \frac{3}{34} + \frac{5i}{34}, \quad z = \frac{3}{34} - \frac{5i}{34}}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q3(iv) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q3(iv): Solve \(z^2 - 6z + 34 = 0\) by completing the square</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>\[z^2 - 6z + 34 = 0\]</p>
                            <p>\[z^2 - 6z = -34\]</p>
                            <p>Add 9 to both sides:</p>
                            <p>\[z^2 - 6z + 9 = -34 + 9\]</p>
                            <p>\[(z - 3)^2 = -25\]</p>
                            <p>\[z - 3 = \pm 5i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = 3 + 5i, \quad z = 3 - 5i}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q3(v) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q3(v): Solve \(z^2 - 6z = -13\) by completing the square</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>\[z^2 - 6z = -13\]</p>
                            <p>Add 9 to both sides:</p>
                            <p>\[z^2 - 6z + 9 = -13 + 9\]</p>
                            <p>\[(z - 3)^2 = -4\]</p>
                            <p>\[z - 3 = \pm 2i\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = 3 + 2i, \quad z = 3 - 2i}\]</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Review Chapter 1 -->
            <div id="review" class="mb-8">
                <h3 class="text-2xl font-semibold mb-4 flex items-center gap-2" style="color: var(--text-secondary);">
                    üìù Review Exercise Chapter 1
                </h3>

                <!-- Q4(ii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q4(ii): Find \(x\) and \(y\) if \(x^2 - 7x + 9iy = iy^2 + 20i - 12\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Idea:</strong> Equate real and imaginary parts separately.</p>
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Rearrange: \(x^2 - 7x + 9iy = -12 + (y^2 + 20)i\)</p>
                            <p class="mt-2">Equating real parts: \(x^2 - 7x = -12\)</p>
                            <p>\[x^2 - 7x + 12 = 0\]</p>
                            <p>\[(x - 3)(x - 4) = 0\]</p>
                            <p>\[x = 3 \text{ or } x = 4\]</p>
                            <p class="mt-2">Equating imaginary parts: \(9y = y^2 + 20\)</p>
                            <p>\[y^2 - 9y + 20 = 0\]</p>
                            <p>\[(y - 4)(y - 5) = 0\]</p>
                            <p>\[y = 4 \text{ or } y = 5\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{(x, y) = (3, 4), (3, 5), (4, 4), \text{ or } (4, 5)}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q5(ii) -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q5(ii): Find real and imaginary parts of \(\frac{3z + i}{z + 4}\) for \(z = 3 + 2i\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Substitute \(z = 3 + 2i\):</p>
                            <p>\[\frac{3(3 + 2i) + i}{(3 + 2i) + 4} = \frac{9 + 6i + i}{7 + 2i} = \frac{9 + 7i}{7 + 2i}\]</p>
                            <p class="mt-2">Multiply by conjugate:</p>
                            <p>\[\frac{(9 + 7i)(7 - 2i)}{(7 + 2i)(7 - 2i)} = \frac{63 - 18i + 49i - 14i^2}{49 + 4}\]</p>
                            <p>\[= \frac{63 + 31i + 14}{53} = \frac{77 + 31i}{53}\]</p>
                            <p class="mt-3">Real part = \(\frac{77}{53}\), Imaginary part = \(\frac{31}{53}\)</p>
                            <p class="mt-3 font-semibold">\[\boxed{Re = \frac{77}{53}, \quad Im = \frac{31}{53}}\]</p>
                        </div>
                    </div>
                </div>

                <!-- Q7 -->
                <div class="card p-5 rounded-lg mb-4">
                    <div class="flex justify-between items-start mb-3">
                        <h4 class="font-semibold text-lg">Q7: Solve \(z^2 - (2 - 3i)z - 5 + i = 0\)</h4>
                        <button class="no-print accent-btn px-4 py-2 rounded text-sm toggle-solution">Show Solution</button>
                    </div>
                    <div class="solution-content">
                        <div class="mt-4 p-4 rounded" style="background-color: var(--bg-secondary);">
                            <p class="mb-2"><strong>Idea:</strong> Use quadratic formula with complex coefficients.</p>
                            <p class="mb-2"><strong>Solution:</strong></p>
                            <p>Here \(a = 1, b = -(2 - 3i), c = -5 + i\)</p>
                            <p>\[z = \frac{(2 - 3i) \pm \sqrt{(2 - 3i)^2 - 4(1)(-5 + i)}}{2}\]</p>
                            <p class="mt-2">Calculate \((2 - 3i)^2\):</p>
                            <p>\[(2 - 3i)^2 = 4 - 12i + 9i^2 = 4 - 12i - 9 = -5 - 12i\]</p>
                            <p class="mt-2">Calculate discriminant:</p>
                            <p>\[\Delta = -5 - 12i - 4(-5 + i) = -5 - 12i + 20 - 4i = 15 - 16i\]</p>
                            <p class="mt-2">Find \(\sqrt{15 - 16i}\). Let \(\sqrt{15 - 16i} = a + bi\):</p>
                            <p>\[(a + bi)^2 = 15 - 16i\]</p>
                            <p>\[a^2 - b^2 = 15, \quad 2ab = -16\]</p>
                            <p>From second equation: \(b = -\frac{8}{a}\)</p>
                            <p>\[a^2 - \frac{64}{a^2} = 15 \Rightarrow a^4 - 15a^2 - 64 = 0\]</p>
                            <p>Let \(u = a^2\): \(u^2 - 15u - 64 = 0\)</p>
                            <p>\[u = \frac{15 \pm \sqrt{225 + 256}}{2} = \frac{15 \pm \sqrt{481}}{2}\]</p>
                            <p>Taking \(a = 4, b = -2\): \(\sqrt{15 - 16i} = 4 - 2i\)</p>
                            <p class="mt-2">Thus:</p>
                            <p>\[z = \frac{2 - 3i \pm (4 - 2i)}{2}\]</p>
                            <p class="mt-3 font-semibold">\[\boxed{z = 3 - \frac{5i}{2}, \quad z = -1 - \frac{i}{2}}\]</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- MCQs (Interactive) -->
        <section id="mcqs" class="mb-12">
            <h2 class="text-3xl font-bold mb-6 text-center flex items-center justify-center gap-3" style="color: var(--accent-color);">
                ‚ùì Multiple Choice Questions
            </h2>
            
            <p class="text-sm mb-4 p-3 rounded" style="background-color: var(--bg-secondary); color: var(--text-muted);">
                <strong>üí° Printing Tip:</strong> When printing this page, all solutions and correct MCQ answers will be automatically visible.
            </p>

            <div class="no-print mb-4 text-right">
                <button id="reset-mcqs" class="accent-btn px-6 py-2 rounded">Reset All MCQs</button>
            </div>

            <div id="mcq-container" class="space-y-6">
                <!-- MCQs will be generated by JavaScript -->
            </div>
        </section>

        <!-- Answer Key -->
        <section id="answer-key" class="mb-12 card p-6 rounded-lg">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2" style="color: var(--accent-color);">
                üîë MCQ Answer Key
            </h2>
            <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-3">
                <div>1. D</div><div>2. B</div><div>3. C</div><div>4. B</div><div>5. C</div>
                <div>6. A</div><div>7. B</div><div>8. B</div><div>9. A</div><div>10. A</div>
                <div>11. B</div><div>12. C</div><div>13. B</div><div>14. D</div><div>15. B</div>
                <div>16. C</div><div>17. B</div><div>18. C</div><div>19. B</div><div>20. B</div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-muted py-8">
            <p>¬© Made with ‚ù§Ô∏è- By Zeeshan Haider</p>
        </footer>
    </div>

    <script>
        // AUTO-HIDE FLOATING BUTTONS AFTER 3s INACTIVITY
        let inactivityTimer;
        const floatingButtons = document.querySelectorAll('#theme-toggle-btn, #back-to-top');
        
        function showFloatingButtons() {
            floatingButtons.forEach(btn => {
                btn.classList.remove('opacity-0', 'invisible');
                btn.style.display = 'flex';
            });
            resetInactivityTimer();
        }
        
        function hideFloatingButtons() {
            floatingButtons.forEach(btn => {
                btn.classList.add('opacity-0', 'invisible');
                // Hide after transition completes
                setTimeout(() => {
                    btn.style.display = 'none';
                }, 300);
            });
        }
        
        function resetInactivityTimer() {
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(hideFloatingButtons, 3000); // 3 seconds
        }
        
        // Show buttons on user interaction
        ['mousemove', 'scroll', 'click', 'touchstart', 'keydown'].forEach(eventType => {
            document.addEventListener(eventType, showFloatingButtons);
        });
        
        // Initialize timer on page load
        resetInactivityTimer();
        
        // Ensure buttons are visible initially
        setTimeout(() => {
            showFloatingButtons();
        }, 100);

        // MCQ Data
        const mcqs = [
            {
                q: "For any complex number \\(z, |z|\\) is equal to",
                options: ["\\(|\\bar{z}|\\)", "\\(|-z|\\)", "\\(|-\\bar{z}|\\)", "all of these"],
                correct: 3
            },
            {
                q: "If \\(z_1\\) and \\(z_2\\) are any two complex numbers, then",
                options: ["\\(|z_1 + z_2| < |z_1| + |z_2|\\)", "\\(|z_1 + z_2| \\leq |z_1| + |z_2|\\)", "\\(|z_1 - z_2| < |z_1| - |z_2|\\)", "\\(|z_1 + z_2| \\geq |z_1| + |z_2|\\)"],
                correct: 1
            },
            {
                q: "If \\(z = 3i - 4\\), then \\(z + \\bar{z} = \\)",
                options: ["8", "\\(-3i\\)", "\\(-8\\)", "\\(3i - 8\\)"],
                correct: 2
            },
            {
                q: "If \\(a > 0\\) and \\(b < 0\\), then",
                options: ["\\(ab > 0\\)", "\\(ab < 0\\)", "\\(ab = 0\\)", "all of these"],
                correct: 1
            },
            {
                q: "If \\(n\\) is an even integer, then \\((i)^n\\) is equal to:",
                options: ["\\(i\\)", "\\(-i\\)", "1 or \\(-1\\)", "\\(i\\) or \\(-i\\)"],
                correct: 2
            },
            {
                q: "If \\(z\\) is any real number \\(x\\), then its conjugate is:",
                options: ["\\(x\\)", "\\(-x\\)", "\\(xi\\)", "\\(-xi\\)"],
                correct: 0
            },
            {
                q: "\\((-1)^{-21/2}\\) is equal to:",
                options: ["\\(i\\)", "\\(-i\\)", "1", "\\(-1\\)"],
                correct: 1
            },
            {
                q: "If \\(z = (0, 1)\\) then \\(z^2\\) is:",
                options: ["1", "\\(-1\\)", "\\(i\\)", "\\(-i\\)"],
                correct: 1
            },
            {
                q: "The product of two conjugate complex numbers is:",
                options: ["A real number", "An imaginary number", "Always zero", "Not defined"],
                correct: 0
            },
            {
                q: "Real part of \\(\\frac{2+i}{i}\\) is equal to:",
                options: ["1", "2", "\\(-1\\)", "\\(\\frac{1}{2}\\)"],
                correct: 0
            },
            {
                q: "The plane on which complex numbers are shown is called:",
                options: ["Coordinate plane", "Complex plane", "Cartesian plane", "Real plane"],
                correct: 1
            },
            {
                q: "The modulus of a complex number \\(z = x + iy\\) is the distance of \\(P(x, y)\\) from:",
                options: ["\\(x\\)-axis", "\\(y\\)-axis", "Origin", "\\((x, y)\\)"],
                correct: 2
            },
            {
                q: "If \\(z_1 = 2 + 3i, z_2 = 1 - i\\) then \\(|z_1 z_2| = \\)",
                options: ["\\(\\sqrt{13}\\)", "\\(\\sqrt{26}\\)", "\\(\\sqrt{15}\\)", "26"],
                correct: 1
            },
            {
                q: "If \\(|x + 5i| = 3\\), then \\(x\\) is equal to:",
                options: ["\\(\\pm 4\\)", "\\(\\pm 4i\\)", "\\(\\pm 22i\\)", "None of these"],
                correct: 3
            },
            {
                q: "Multiplicative inverse of \\((3, 4)\\) is:",
                options: ["\\((\\frac{3}{25}, \\frac{4}{25})\\)", "\\((\\frac{3}{25}, \\frac{-4}{25})\\)", "\\((\\frac{-3}{25}, \\frac{-4}{25})\\)", "\\((1, 0)\\)"],
                correct: 1
            },
            {
                q: "If \\(z = -3i + 4\\), then \\(\\bar{z} = \\)",
                options: ["\\(-3i - 4\\)", "\\(-3i + 4\\)", "\\(3i + 4\\)", "\\(3i - 4\\)"],
                correct: 2
            },
            {
                q: "Real and imaginary part of \\(i(3 - 2i)\\) are respectively:",
                options: ["2 & \\(-3\\)", "2 & 3", "3 & \\(-2\\)", "\\(-3\\) & \\(-2\\)"],
                correct: 1
            },
            {
                q: "If \\(z = a + ib\\), then \\(|z| = \\)",
                options: ["\\(\\sqrt{a-b}\\)", "\\(\\sqrt{a^2-b^2}\\)", "\\(\\sqrt{a^2+b^2}\\)", "\\(\\sqrt{a-b}\\)"],
                correct: 2
            },
            {
                q: "\\((\\frac{1+i}{1-i})^{12} = \\)",
                options: ["\\(-1\\)", "1", "\\(i\\)", "\\(-i\\)"],
                correct: 1
            },
            {
                q: "The value of \\(i^{-7}\\) is:",
                options: ["1", "\\(i\\)", "\\(-1\\)", "\\(-i\\)"],
                correct: 1
            }
        ];

        // Generate MCQs
        const mcqContainer = document.getElementById('mcq-container');
        mcqs.forEach((mcq, index) => {
            const mcqDiv = document.createElement('div');
            mcqDiv.className = 'card p-5 rounded-lg';
            mcqDiv.innerHTML = `
                <p class="font-semibold mb-3">${index + 1}. ${mcq.q}</p>
                <div class="space-y-2 mcq-options" data-mcq="${index}">
                    ${mcq.options.map((opt, i) => `
                        <div class="mcq-option" data-option="${i}">
                            <strong>${String.fromCharCode(65 + i)}.</strong> ${opt}
                        </div>
                    `).join('')}
                </div>
                <button class="show-answer-btn hidden mt-3 px-4 py-2 rounded text-sm" 
                        style="background-color: var(--accent-color); color: var(--bg-card);"
                        data-mcq="${index}">
                    Show Correct Answer
                </button>
            `;
            mcqContainer.appendChild(mcqDiv);
        });

        // MCQ interaction function
        function attachMCQListeners() {
            document.querySelectorAll('.mcq-options').forEach(optionsDiv => {
                const mcqIndex = parseInt(optionsDiv.dataset.mcq);
                const showAnswerBtn = document.querySelector(`.show-answer-btn[data-mcq="${mcqIndex}"]`);
                
                optionsDiv.querySelectorAll('.mcq-option').forEach(option => {
                    option.addEventListener('click', function() {
                        // Store original content
                        if (!this.dataset.originalContent) {
                            this.dataset.originalContent = this.innerHTML;
                        }
                        
                        // Allow re-selection: clear previous selections first
                        optionsDiv.querySelectorAll('.mcq-option').forEach(opt => {
                            opt.classList.remove('correct', 'incorrect');
                            if (opt.dataset.originalContent) {
                                opt.innerHTML = opt.dataset.originalContent;
                            }
                        });
                        showAnswerBtn.classList.add('hidden');
                        
                        const selectedOption = parseInt(this.dataset.option);
                        const correctOption = mcqs[mcqIndex].correct;
                        
                        optionsDiv.classList.add('answered');
                        
                        if (selectedOption === correctOption) {
                            this.classList.add('correct');
                            this.innerHTML = this.dataset.originalContent + ' <span style="color: green; font-size: 1.2em;">‚úì</span>';
                        } else {
                            this.classList.add('incorrect');
                            this.innerHTML = this.dataset.originalContent + ' <span style="color: red; font-size: 1.2em;">‚úó</span>';
                            showAnswerBtn.classList.remove('hidden');
                        }
                    });
                });

                if (showAnswerBtn) {
                    showAnswerBtn.addEventListener('click', function() {
                        const correctOption = mcqs[mcqIndex].correct;
                        const correctOptElement = optionsDiv.querySelectorAll('.mcq-option')[correctOption];
                        
                        if (!correctOptElement.dataset.originalContent) {
                            correctOptElement.dataset.originalContent = correctOptElement.innerHTML;
                        }
                        
                        correctOptElement.classList.add('correct');
                        if (!correctOptElement.innerHTML.includes('‚úì')) {
                            correctOptElement.innerHTML = correctOptElement.dataset.originalContent + ' <span style="color: green; font-size: 1.2em;">‚úì</span>';
                        }
                        this.classList.add('hidden');
                    });
                }
            });
        }
        
        // Initial MCQ listeners
        attachMCQListeners();

        // Reset MCQs
        document.getElementById('reset-mcqs').addEventListener('click', () => {
            // Reload MCQs to clear all selections and symbols
            mcqContainer.innerHTML = '';
            mcqs.forEach((mcq, index) => {
                const mcqDiv = document.createElement('div');
                mcqDiv.className = 'card p-5 rounded-lg';
                mcqDiv.innerHTML = `
                    <p class="font-semibold mb-3">${index + 1}. ${mcq.q}</p>
                    <div class="space-y-2 mcq-options" data-mcq="${index}">
                        ${mcq.options.map((opt, i) => `
                            <div class="mcq-option" data-option="${i}">
                                <strong>${String.fromCharCode(65 + i)}.</strong> ${opt}
                            </div>
                        `).join('')}
                    </div>
                    <button class="show-answer-btn hidden mt-3 px-4 py-2 rounded text-sm" 
                            style="background-color: var(--accent-color); color: var(--bg-card);"
                            data-mcq="${index}">
                        Show Correct Answer
                    </button>
                `;
                mcqContainer.appendChild(mcqDiv);
            });
            
            // Re-attach event listeners
            attachMCQListeners();
            
            // Retypeset MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        });

        // Solution toggles
        document.querySelectorAll('.toggle-solution').forEach(button => {
            button.addEventListener('click', function() {
                const content = this.parentElement.nextElementSibling;
                content.classList.toggle('open');
                this.textContent = content.classList.contains('open') ? 'Hide Solution' : 'Show Solution';
            });
        });

        // Toggle All Solutions button
        const toggleAllBtn = document.getElementById('toggle-all-solutions');
        let allSolutionsOpen = false;

        toggleAllBtn.addEventListener('click', function() {
            const allSolutions = document.querySelectorAll('.solution-content');
            const allButtons = document.querySelectorAll('.toggle-solution');
            
            allSolutionsOpen = !allSolutionsOpen;
            
            allSolutions.forEach(content => {
                if (allSolutionsOpen) {
                    content.classList.add('open');
                } else {
                    content.classList.remove('open');
                }
            });
            
            allButtons.forEach(button => {
                button.textContent = allSolutionsOpen ? 'Hide Solution' : 'Show Solution';
            });
            
            this.textContent = allSolutionsOpen ? 'Hide All Solutions' : 'Show All Solutions';
        });

        // Theme panel toggle
        const themeToggleBtn = document.getElementById('theme-toggle-btn');
        const themePanel = document.getElementById('theme-panel');
        
        themeToggleBtn.addEventListener('click', () => {
            themePanel.classList.toggle('hidden');
            resetInactivityTimer(); // Reset timer when theme button is clicked
        });

        // Close theme panel when clicking outside
        document.addEventListener('click', (e) => {
            if (!themeToggleBtn.contains(e.target) && !themePanel.contains(e.target)) {
                themePanel.classList.add('hidden');
            }
        });

        // Navigation toggle
        const toggleNavBtn = document.getElementById('toggle-nav');
        const navLinks = document.getElementById('nav-links');
        const navState = localStorage.getItem('math-notes-nav-state') || 'visible';

        if (navState === 'hidden') {
            navLinks.classList.add('hidden');
            toggleNavBtn.textContent = 'Show';
        }

        toggleNavBtn.addEventListener('click', () => {
            navLinks.classList.toggle('hidden');
            const isHidden = navLinks.classList.contains('hidden');
            toggleNavBtn.textContent = isHidden ? 'Show' : 'Hide';
            localStorage.setItem('math-notes-nav-state', isHidden ? 'hidden' : 'visible');
        });

        // Back to top button
        const backToTopBtn = document.getElementById('back-to-top');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Theme switching
        const themeButtons = document.querySelectorAll('.theme-btn');
        const savedTheme = localStorage.getItem('math-notes-theme') || 'blue';

        function applyTheme(theme) {
            if (theme === 'blue') {
                document.documentElement.removeAttribute('data-theme');
            } else {
                document.documentElement.setAttribute('data-theme', theme);
            }
            
            themeButtons.forEach(btn => {
                if (btn.dataset.theme === theme) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            localStorage.setItem('math-notes-theme', theme);
            
            // Close panel after selection
            themePanel.classList.add('hidden');
            
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }

        applyTheme(savedTheme);

        themeButtons.forEach(button => {
            button.addEventListener('click', () => {
                applyTheme(button.dataset.theme);
            });
        });

        // MathJax config
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
</body>
</html>